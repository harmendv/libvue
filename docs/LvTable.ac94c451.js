import{_ as O,c as e,d as p,i as d,a as y,F as r,k as f,b as v,t as h,n as b,o as t,I as C,r as k,g as B}from"./index.b288453a.js";function A(l,s=2,o="floor"){const u=Number.parseInt(`1${new Array(s).fill(0).join().replace(",","")}`,10);return(Math[o](l*u)/u).toFixed(s)}const j={props:{rows:{type:Array,default:()=>[]},columns:{type:Object,default:()=>({})},footerRows:{type:Array,default:()=>[]},footerColumns:{type:Object,default:()=>({})},loading:{type:Boolean,default:!1},rowHoverEffect:{type:Boolean,default:!0},hideHead:{type:Boolean,default:!1},hideRowLines:{type:Boolean,default:!1},condensed:{type:Boolean,default:!1},noDataText:{type:String,default:"No data available"},groupRowsBy:{type:String,default:null},horizontalScroll:{type:Boolean,default:!0},rowAction:{type:Function,default:null}},computed:{parsedRows(){const l=[];return this.rows.forEach(s=>{const o={};Object.keys(this.columns).forEach(u=>{typeof s[u]<"u"?o[u]=s[u]:o[u]=null}),this.groupRowsBy&&s[this.groupRowsBy]&&(o[this.groupRowsBy]=s[this.groupRowsBy]),l.push(o)}),l},groupedParsedRows(){if(this.groupRowsBy){const l={};return this.parsedRows.forEach(s=>{l[s[this.groupRowsBy]]||(l[s[this.groupRowsBy]]=[]),l[s[this.groupRowsBy]].push(s)}),l}return!1},hasRows(){return this.rows.length>0},visibleColumnCount(){return Object.keys(this.columns).length},showFoot(){let l=!1;return Object.entries(this.columns).forEach(([,s])=>{(s.totals||s.averages)&&(l=!0)}),l},showTotalsRow(){let l=!1;return Object.entries(this.columns).forEach(([,s])=>{s.totals&&(l=!0)}),l},showAverageRow(){let l=!1;return Object.entries(this.columns).forEach(([,s])=>{s.averages&&(l=!0)}),l},classObject(){return{"lv-table--condensed":!!this.condensed,"lv-table--hide-row-lines":!!this.hideRowLines,"lv-table--loading":!!this.loading,"lv-table--horizontal-scroll":!!this.horizontalScroll,"lv-table--row-hover-effect":!!this.rowHoverEffect,"lv-table--has-row-action":typeof this.rowAction=="function"}}},methods:{getTotal(l,s){let o=0;return this.rows.forEach(u=>{o+=Number.parseFloat(u[l],10)}),typeof s=="function"?s(o):A(o)},getAverage(l,s){const u=this.getTotal(l)/this.rows.length;return typeof s=="function"?s(u):A(u)},getCellModifiers(l){const s=[];return l.align&&l.align==="right"&&s.push("lv-table__cell--align-right"),l.align&&l.align==="center"&&s.push("lv-table__cell--align-center"),l.fitContent&&s.push("lv-table__cell--fit-content"),l.bold&&s.push("lv-table__cell--bold"),l.italic&&s.push("lv-table__cell--italic"),s},onClickRow(l){if(typeof this.rowAction=="function"){const s=JSON.parse(JSON.stringify(this.rows[l]));this.rowAction({row:s,index:l})}}}},E={key:0,class:"lv-table__loading"},N={class:"lv-table__table"},M={key:0,class:"lv-table__table-head"},F={class:"lv-table__row"},S=["colspan"],L=["onClick"],z={key:2,class:"lv-table__table-body"},H={key:0,class:"lv-table__row"},V={class:"lv-table__cell lv-table__cell--no-data"},J=["onClick"],P={key:3,class:"lv-table__table-foot"},q={key:0,class:"lv-table__row lv-table__row--totals"},G=v(" Total "),Q={key:1,class:"lv-table__row lv-table__row--average"},U=v(" Average ");function W(l,s,o,u,X,n){const T=B("lv-spinner"),m=B("lv-icon");return t(),e("div",{class:b(["lv-table",n.classObject]),role:"table"},[o.loading?(t(),e("div",E,[p(T)])):d("",!0),y("table",N,[o.hideHead?d("",!0):(t(),e("thead",M,[y("tr",F,[(t(!0),e(r,null,f(o.columns,(a,c)=>(t(),e("th",{key:c,class:b(["lv-table__cell",n.getCellModifiers(a)])},h(typeof a.title<"u"?a.title:c),3))),128))])])),o.groupRowsBy?(t(!0),e(r,{key:1},f(n.groupedParsedRows,(a,c,i)=>(t(),e("tbody",{key:i,class:"lv-table__table-body"},[(t(),e("tr",{key:i},[y("td",{colspan:n.visibleColumnCount,class:"lv-table__cell lv-table__cell--bold lv-table__cell--group-title"},h(c),9,S)])),(t(!0),e(r,null,f(a,(_,R)=>(t(),e("tr",{key:`${i}${R}`,class:"lv-table__row",onClick:C(w=>n.onClickRow(R),["stop"])},[(t(!0),e(r,null,f(_,(w,g)=>(t(),e(r,null,[typeof o.columns[g]<"u"?(t(),e("td",{key:`${i}${g}`,class:b(["lv-table__cell",n.getCellModifiers(o.columns[g])])},[k(l.$slots,g,{value:w,row:_},()=>[v(h(w),1)])],2)):d("",!0)],64))),256))],8,L))),128))]))),128)):(t(),e("tbody",z,[n.hasRows?d("",!0):(t(),e("tr",H,[y("td",V,[p(m,{name:"ban"}),v(" "+h(o.noDataText),1)])])),(t(!0),e(r,null,f(n.parsedRows,(a,c)=>(t(),e("tr",{key:c,class:"lv-table__row",onClick:C(i=>n.onClickRow(c),["stop"])},[(t(!0),e(r,null,f(a,(i,_)=>(t(),e(r,null,[typeof o.columns[_]<"u"?(t(),e("td",{key:_,class:b(["lv-table__cell",n.getCellModifiers(o.columns[_])])},[k(l.$slots,_,{value:i,row:a},()=>[v(h(i),1)])],2)):d("",!0)],64))),256))],8,J))),128))])),n.showFoot?(t(),e("tfoot",P,[n.showTotalsRow?(t(),e("tr",q,[(t(!0),e(r,null,f(o.columns,(a,c,i)=>(t(),e("td",{key:i,class:b(["lv-table__cell",n.getCellModifiers(a)])},[i===0?(t(),e(r,{key:0},[a.totals?(t(),e(r,{key:0},[v(h(n.getTotal(c,a.totals)),1)],64)):(t(),e(r,{key:1},[G],64))],64)):a.totals?(t(),e(r,{key:1},[v(h(n.getTotal(c,a.totals)),1)],64)):d("",!0)],2))),128))])):d("",!0),n.showAverageRow?(t(),e("tr",Q,[(t(!0),e(r,null,f(o.columns,(a,c,i)=>(t(),e("td",{key:i,class:b(["lv-table__cell",n.getCellModifiers(a)])},[i===0?(t(),e(r,{key:0},[a.averages?(t(),e(r,{key:0},[v(h(n.getAverage(c,a.averages)),1)],64)):(t(),e(r,{key:1},[U],64))],64)):a.averages?(t(),e(r,{key:1},[v(h(n.getAverage(c,a.averages)),1)],64)):d("",!0)],2))),128))])):d("",!0),(t(!0),e(r,null,f(o.footerRows,(a,c)=>(t(),e("tr",{key:c,class:"lv-table__row"},[(t(!0),e(r,null,f(a,(i,_)=>(t(),e(r,null,[typeof o.columns[_]<"u"?(t(),e("td",{key:_,class:b(["lv-table__cell",n.getCellModifiers(o.columns[_])])},[k(l.$slots,_,{value:i,row:a},()=>[v(h(i),1)])],2)):d("",!0)],64))),256))]))),128))])):d("",!0)])],2)}const Z=O(j,[["render",W]]);export{Z as default};
