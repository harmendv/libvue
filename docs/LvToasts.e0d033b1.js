import d from"./LvToast.b1a9dd7a.js";import{_ as u,j as l,d as p,l as m,S as h,T as k,o as n,c as _,k as f,F as C,g as b}from"./index.8f2973c2.js";const v={components:{LvToast:d},props:{decay:{type:Number,default:3e3},max:{type:Number,default:5}},data(){return{toasts:{},latestUid:0}},watch:{toasts:{handler(t){if(Object.entries(t).length>this.max){const o=Math.min.apply(Math,Object.keys(t).map(s=>Number.parseInt(s,10)));delete this.toasts[o]}},immediate:!0,deep:!0}},mounted(){this.libvue.eventBus.$on("toast",this.addToastHandler)},unmounted(){this.libvue.eventBus.$off("toast",this.addToastHandler)},methods:{addToastHandler(t){const o=Number.parseInt(this.latestUid.toString(),10);this.toasts[o]={...t,uid:o},setTimeout(()=>{delete this.toasts[o]},this.decay),this.latestUid+=1},onClickToast(t){t.onClick&&typeof t.onClick=="function"&&t.onClick({close:()=>this.deleteToast(t),toast:t})},onClickButton(t){t.onClickButton&&typeof t.onClickButton=="function"&&t.onClickButton({close:()=>this.deleteToast(t),toast:t})},deleteToast(t){delete this.toasts[t.uid]}}};function T(t,o,s,y,a,i){const c=b("lv-toast");return n(),l(k,{to:"body"},[p(h,{name:"toasts",tag:"div",class:"lv-toasts"},{default:m(()=>[(n(!0),_(C,null,f(a.toasts,e=>(n(),l(c,{key:e.uid,description:e.description,title:e.title,button:e.button,"button-color":e.buttonColor,icon:e.icon,"icon-color":e.iconColor,onClick:r=>i.onClickToast(e),onClickButton:r=>i.onClickButton(e)},null,8,["description","title","button","button-color","icon","icon-color","onClick","onClickButton"]))),128))]),_:1})])}const g=u(v,[["render",T]]);export{g as default};
