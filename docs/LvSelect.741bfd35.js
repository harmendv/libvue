import{o as f}from"./index.aa6063e4.js";import{_ as m,O as d,o as l,c as t,i as h,y as c,F as y,G as V,l as v,P as k,v as r,p,I as w,j as g,k as x,J as O,x as C,N as S,z as B,s as N,q as _,C as j}from"./index.7fb37226.js";import"./index.62b747cc.js";const T={provide(){return{value:d(()=>this.value),multiple:d(()=>this.multiple),searchable:d(()=>this.searchable),searchValue:d(()=>this.search),visibleOptions:d(()=>this.visibleOptions)}},props:{value:{type:[Object,Array],default:null},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:"Choose an option"},searchable:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data(){return{dropdownVisible:!1,focusedOptionIndex:null,search:null,visibleOptions:null}},computed:{hasValue(){return!!(this.multiple&&this.value.length>0||!this.multiple&&this.value)},classObject(){return{"lv-select--disabled":!!this.disabled||!!this.loading,"lv-select--loading":!!this.loading}}},watch:{search(i){!this.dropdownVisible&&i&&(this.dropdownVisible=!0)},value(i){!this.multiple&&this.dropdownVisible&&(this.dropdownVisible=!1),i&&this.search&&(this.search=null)}},mounted(){this.visibleOptions=this.getVisibleOptions(),f(this.$refs.select,()=>{this.dropdownVisible=!1})},updated(){this.$nextTick(()=>{this.visibleOptions=this.getVisibleOptions()})},methods:{getVisibleOptions(){return this.$el.querySelectorAll(".lv-select-option").length},onClickSelection(){this.dropdownVisible=!this.dropdownVisible}}},z=["aria-expanded"],L={key:0,class:"lv-select__value"},q={key:1,class:"lv-select__values"},A=["placeholder"],D={key:3,class:"lv-select__placeholder"},F={class:"lv-select__dropdown",role:"listbox"},I={key:0,class:"lv-select__no-options"};function K(i,o,e,M,n,a){const u=N("lv-icon");return l(),t("div",{ref:"select",class:B(["lv-select",a.classObject]),role:"combobox","aria-expanded":n.dropdownVisible,"aria-haspopup":"listbox"},[h("div",{ref:"combobox",class:"lv-select__input",tabindex:"0",onClick:o[1]||(o[1]=(...s)=>a.onClickSelection&&a.onClickSelection(...s)),onKeydown:o[2]||(o[2]=w(j((...s)=>a.onClickSelection&&a.onClickSelection(...s),["prevent"]),["enter","space"]))},[a.hasValue&&!e.multiple?(l(),t("div",L,[c(i.$slots,"value",{value:e.value},()=>[_(r(e.value.label),1)])])):a.hasValue&&e.multiple?(l(),t("div",q,[(l(!0),t(y,null,V(e.value,(s,b)=>(l(),t("span",{key:b,class:"lv-select__values-item"},[c(i.$slots,"value",{values:e.value,value:s},()=>[_(r(s.label),1)])]))),128))])):e.searchable?v((l(),t("input",{key:2,"onUpdate:modelValue":o[0]||(o[0]=s=>n.search=s),class:"lv-select__search",type:"text",placeholder:e.placeholder},null,8,A)),[[k,n.search]]):(l(),t("div",D,r(e.placeholder),1)),e.loading?(l(),p(u,{key:4,class:"lv-select__loading",size:16,name:"loader-2"})):(l(),p(u,{key:5,class:"lv-select__icon",name:"chevron-down"}))],544),g(S,{name:"dropdown"},{default:x(()=>[v(h("div",F,[c(i.$slots,"default"),n.visibleOptions?C("",!0):(l(),t("div",I,"No options found"))],512),[[O,n.dropdownVisible]])]),_:3})],10,z)}const P=m(T,[["render",K]]);export{P as default};
