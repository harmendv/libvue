import r from"./LvToast.6c22c056.js";import{_ as c,j as n,l as u,S as p,o,c as m,k as h,F as _,g as f}from"./index.0b0776f9.js";const v={components:{LvToast:r},props:{decay:{type:Number,default:3e3},max:{type:Number,default:5}},data(){return{toasts:{},latestUid:0}},watch:{toasts:{handler(t){if(Object.entries(t).length>this.max){const e=Math.min.apply(Math,Object.keys(t).map(a=>Number.parseInt(a,10)));delete this.toasts[e]}},immediate:!0,deep:!0}},mounted(){this.libvue.eventBus.$on("toast",this.addToastHandler)},unmounted(){this.libvue.eventBus.$off("toast",this.addToastHandler)},methods:{addToastHandler(t){const e=Number.parseInt(this.latestUid.toString(),10);this.toasts[e]={...t,uid:e},setTimeout(()=>{delete this.toasts[e]},this.decay),this.latestUid+=1},onClickToast(t){t.onClick&&typeof t.onClick=="function"&&t.onClick({close:()=>this.deleteToast(t),toast:t})},deleteToast(t){delete this.toasts[t.uid]}}};function k(t,e,a,T,i,l){const d=f("lv-toast");return o(),n(p,{name:"toasts",tag:"div",class:"lv-toasts"},{default:u(()=>[(o(!0),m(_,null,h(i.toasts,s=>(o(),n(d,{key:s.uid,description:s.description,title:s.title,action:s.action,onClick:y=>l.onClickToast(s)},null,8,["description","title","action","onClick"]))),128))]),_:1})}const x=c(v,[["render",k]]);export{x as default};
