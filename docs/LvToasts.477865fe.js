import t from"./LvToast.d5bc41d8.js";import{_ as s,j as o,d as e,l as a,S as n,T as i,o as l,c as d,k as c,F as u,g as r}from"./index.7cfd2803.js";const h=s({components:{LvToast:t},props:{decay:{type:Number,default:3e3},max:{type:Number,default:5}},data:()=>({toasts:{},latestUid:0}),watch:{toasts:{handler(t){if(Object.entries(t).length>this.max){const s=Math.min.apply(Math,Object.keys(t).map((t=>Number.parseInt(t,10))));delete this.toasts[s]}},immediate:!0,deep:!0}},mounted(){this.libvue.eventBus.$on("toast",this.addToastHandler)},unmounted(){this.libvue.eventBus.$off("toast",this.addToastHandler)},methods:{addToastHandler(t){const s=Number.parseInt(this.latestUid.toString(),10);this.toasts[s]={...t,uid:s},setTimeout((()=>{delete this.toasts[s]}),this.decay),this.latestUid+=1},onClickToast(t){t.onClick&&"function"==typeof t.onClick&&t.onClick({close:()=>this.deleteToast(t),toast:t})},onClickButton(t){t.onClickButton&&"function"==typeof t.onClickButton&&t.onClickButton({close:()=>this.deleteToast(t),toast:t})},deleteToast(t){delete this.toasts[t.uid]}}},[["render",function(t,s,h,m,p,k){const f=r("lv-toast");return l(),o(i,{to:"body"},[e(n,{name:"toasts",tag:"div",class:"lv-toasts"},{default:a((()=>[(l(!0),d(u,null,c(p.toasts,(t=>(l(),o(f,{key:t.uid,description:t.description,title:t.title,button:t.button,icon:t.icon,onClick:s=>k.onClickToast(t),onClickButton:s=>k.onClickButton(t)},null,8,["description","title","button","icon","onClick","onClickButton"])))),128))])),_:1})])}]]);export{h as default};
